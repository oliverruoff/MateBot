# This is an auto generated Dockerfile for ros:ros-base
# generated from docker_images_ros2/create_ros_image.Dockerfile.em
FROM arm64v8/ros:humble-perception-jammy

# Installing OS packages
RUN apt-get update 
RUN apt-get install -y \
    git \
    python3-pip \
    ros-$ROS_DISTRO-rviz2

# load lidar package 
RUN     mkdir -p ldlidar_ros2_ws/src 
WORKDIR /ldlidar_ros2_ws/src 
RUN     git clone  https://github.com/ldrobotSensorTeam/ldlidar_ros2.git 
WORKDIR /ldlidar_ros2_ws/src/ldlidar_ros2 
RUN     git submodule update --init --recursive
# RUN     sudo chmod 777 /dev/ttyUSB0
RUN     source /opt/ros/$ROS_DISTRO/setup.bash
RUN     colcon build 
RUN     source install/local_setup.bash
RUN     echo "source /ldlidar_ros2_ws/src/ldlidar_ros2/install/local_setup.bash" >> ~/.bashrc
